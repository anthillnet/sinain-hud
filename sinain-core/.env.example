# sinain-core configuration
# Copy to .env and fill in your values:  cp .env.example .env

# ── Server ──
PORT=9500

# ── Audio ──
AUDIO_DEVICE=BlackHole 2ch        # macOS audio device (sox: AUDIODEV)
AUDIO_SAMPLE_RATE=16000
AUDIO_CHUNK_MS=5000
AUDIO_VAD_ENABLED=true
AUDIO_VAD_THRESHOLD=0.003
AUDIO_CAPTURE_CMD=sox              # sox or ffmpeg
AUDIO_AUTO_START=true
AUDIO_GAIN_DB=20
# AUDIO_ALT_DEVICE=                # alternate device for switch_device command

# ── Transcription ──
OPENROUTER_API_KEY=                # required — get from https://openrouter.ai/keys
TRANSCRIPTION_BACKEND=openrouter   # openrouter | aws-gemini | whisper
TRANSCRIPTION_MODEL=google/gemini-2.5-flash
REFINE_INTERVAL_MS=30000           # refinement interval (aws-gemini hybrid)
TRANSCRIPTION_LANGUAGE=en-US

# AWS credentials (only for aws-gemini backend)
# AWS_REGION=eu-west-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# ── Agent ──
AGENT_ENABLED=true
AGENT_MODEL=google/gemini-2.5-flash-lite
# AGENT_FALLBACK_MODELS=google/gemini-2.5-flash,anthropic/claude-3.5-haiku
AGENT_MAX_TOKENS=300
AGENT_TEMPERATURE=0.3
AGENT_PUSH_TO_FEED=true
AGENT_DEBOUNCE_MS=3000
AGENT_MAX_INTERVAL_MS=30000
AGENT_COOLDOWN_MS=10000
AGENT_MAX_AGE_MS=120000            # context window lookback (2 min)

# ── Escalation ──
ESCALATION_MODE=selective          # off | selective | focus | rich
ESCALATION_COOLDOWN_MS=30000

# ── OpenClaw Gateway ──
# See docs/OPENCLAW-SETUP.md for full deployment and configuration guide
OPENCLAW_WS_URL=ws://localhost:18789
OPENCLAW_WS_TOKEN=                 # 48-char hex — from gateway config file
OPENCLAW_HTTP_URL=http://localhost:18789/hooks/agent
OPENCLAW_HTTP_TOKEN=               # only if hooks configured on gateway
OPENCLAW_SESSION_KEY=agent:main:sinain  # MUST be agent:main:sinain — see README § Session Key

# ── SITUATION.md ──
SITUATION_MD_PATH=~/.openclaw/workspace/SITUATION.md
# OPENCLAW_WORKSPACE_DIR=~/.openclaw/workspace

# ── Tracing ──
TRACE_ENABLED=true
TRACE_DIR=~/.sinain-core/traces
